{"ast":null,"code":"var _jsxFileName = \"/Users/apple/seb41_main_001/client/src/components/CommentBox.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport timeDifference from '../utils/timeDifference';\nimport Button from './Button';\nimport CommentSubmitBox from './CommentSubmitBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommentContainer = styled.li`\n  width: 100%;\n  padding: 20px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  > div:first-child {\n    margin-bottom: 10px;\n  }\n  > div:last-child {\n    line-height: 150%;\n  }\n`;\n_c = CommentContainer;\nconst CreatorBox = styled.div`\n  padding: 0px 15px 10px 15px;\n  border-radius: 10px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  a {\n    img {\n      border-radius: 50%;\n      object-fit: cover;\n      object-position: center;\n      margin-right: 15px;\n    }\n    display: flex;\n    flex-direction: row;\n    text-decoration: none;\n    color: white;\n    font-weight: 600;\n    font-size: 100%;\n\n    > div:last-child {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-around;\n      > div:first-child {\n        display: flex;\n        align-items: center;\n        > div:nth-child(2) {\n        }\n      }\n      > div:last-child {\n        span {\n          font-size: 90%;\n          font-weight: 400;\n          &:first-child {\n            color: var(--neon-red);\n            margin-right: 12px;\n            i {\n              margin-right: 4px;\n            }\n          }\n        }\n      }\n    }\n  }\n  > div {\n    button {\n      margin-left: 10px;\n    }\n  }\n`;\n_c2 = CreatorBox;\nconst CreatorMark = styled.div`\n  margin-left: 10px;\n  padding: 5px;\n  background-color: var(--neon-blue);\n  border-radius: 7px;\n  font-size: 80%;\n`;\n_c3 = CreatorMark;\nconst ApplicantMark = styled(CreatorMark)`\n  background-color: var(--neon-red);\n`;\n_c4 = ApplicantMark;\nconst CommentBox = props => {\n  _s();\n  const {\n    commentId,\n    memberId: creatorId,\n    board,\n    boardId,\n    applicantsId,\n    data: {\n      memberId,\n      nickname,\n      heart,\n      body,\n      createdAt,\n      modifiedAt\n    },\n    setData\n  } = props;\n  const LOGIN_ID = Number(localStorage.getItem('memberId'));\n  const [modifying, setModifying] = useState(false);\n  const handleCommentDelete = () => {\n    console.log(`DELETE /${board}/${boardId}/${commentId}`);\n    axios.delete(`${process.env.REACT_APP_API_URL}/${board}/${boardId}/${commentId}`, {\n      headers: {\n        Authorization: localStorage.getItem('AccessToken'),\n        Refresh: localStorage.getItem('RefreshToken')\n      },\n      data: {\n        memberId: LOGIN_ID\n      }\n    }).then(res => {\n      console.log(res);\n      setData(res.data.data);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CommentContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CreatorBox, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/members/mypage/${memberId}`,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `https://picsum.photos/seed/${memberId}/50/50.webp`,\n          alt: `avator of ${nickname}}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: nickname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), creatorId === memberId ? /*#__PURE__*/_jsxDEV(CreatorMark, {\n              children: \"\\uAE00\\uC4F4\\uC774\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 41\n            }, this) : '', applicantsId && applicantsId.includes(memberId) ? /*#__PURE__*/_jsxDEV(ApplicantMark, {\n              children: \"\\uCC38\\uC5EC\\uC790\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this) : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-heart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), heart]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: createdAt === modifiedAt ? `${timeDifference(createdAt)} 작성` : `${timeDifference(modifiedAt)} 수정`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: memberId === LOGIN_ID ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [modifying === false ? /*#__PURE__*/_jsxDEV(Button, {\n            value: \"\\uC218\\uC815\",\n            onClick: () => setModifying(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            value: \"\\uB2EB\\uAE30\",\n            onClick: () => setModifying(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            value: \"\\uC0AD\\uC81C\",\n            onClick: handleCommentDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), modifying === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(CommentSubmitBox, {\n      value: body,\n      submitComment: `/${board}/${boardId}/${commentId}`,\n      setModifying: setModifying,\n      setData: setData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentBox, \"Ig2dmgj4K0jFxIL/xrwGxk6swEs=\");\n_c5 = CommentBox;\nexport default CommentBox;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"CommentContainer\");\n$RefreshReg$(_c2, \"CreatorBox\");\n$RefreshReg$(_c3, \"CreatorMark\");\n$RefreshReg$(_c4, \"ApplicantMark\");\n$RefreshReg$(_c5, \"CommentBox\");","map":{"version":3,"names":["useState","styled","Link","axios","timeDifference","Button","CommentSubmitBox","CommentContainer","li","CreatorBox","div","CreatorMark","ApplicantMark","CommentBox","props","commentId","memberId","creatorId","board","boardId","applicantsId","data","nickname","heart","body","createdAt","modifiedAt","setData","LOGIN_ID","Number","localStorage","getItem","modifying","setModifying","handleCommentDelete","console","log","delete","process","env","REACT_APP_API_URL","headers","Authorization","Refresh","then","res","includes"],"sources":["/Users/apple/seb41_main_001/client/src/components/CommentBox.tsx"],"sourcesContent":["import { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport timeDifference from '../utils/timeDifference';\nimport Button from './Button';\nimport CommentSubmitBox from './CommentSubmitBox';\n\nconst CommentContainer = styled.li`\n  width: 100%;\n  padding: 20px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  > div:first-child {\n    margin-bottom: 10px;\n  }\n  > div:last-child {\n    line-height: 150%;\n  }\n`;\n\nconst CreatorBox = styled.div`\n  padding: 0px 15px 10px 15px;\n  border-radius: 10px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  a {\n    img {\n      border-radius: 50%;\n      object-fit: cover;\n      object-position: center;\n      margin-right: 15px;\n    }\n    display: flex;\n    flex-direction: row;\n    text-decoration: none;\n    color: white;\n    font-weight: 600;\n    font-size: 100%;\n\n    > div:last-child {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-around;\n      > div:first-child {\n        display: flex;\n        align-items: center;\n        > div:nth-child(2) {\n        }\n      }\n      > div:last-child {\n        span {\n          font-size: 90%;\n          font-weight: 400;\n          &:first-child {\n            color: var(--neon-red);\n            margin-right: 12px;\n            i {\n              margin-right: 4px;\n            }\n          }\n        }\n      }\n    }\n  }\n  > div {\n    button {\n      margin-left: 10px;\n    }\n  }\n`;\n\nconst CreatorMark = styled.div`\n  margin-left: 10px;\n  padding: 5px;\n  background-color: var(--neon-blue);\n  border-radius: 7px;\n  font-size: 80%;\n`;\n\nconst ApplicantMark = styled(CreatorMark)`\n  background-color: var(--neon-red);\n`;\n\ninterface CommentProps {\n  recruitCommentId?: number;\n  freeCommentId?: number;\n  memberId: number;\n  nickname: string;\n  heart: number;\n  body: string;\n  createdAt: string;\n  modifiedAt: string;\n}\n\nconst CommentBox = (props: {\n  commentId: number;\n  memberId: number;\n  board: string;\n  boardId: number;\n  applicantsId?: number[];\n  data: CommentProps;\n  setData: any;\n}) => {\n  const {\n    commentId,\n    memberId: creatorId,\n    board,\n    boardId,\n    applicantsId,\n    data: { memberId, nickname, heart, body, createdAt, modifiedAt },\n    setData,\n  } = props;\n\n  const LOGIN_ID = Number(localStorage.getItem('memberId'));\n\n  const [modifying, setModifying] = useState<boolean>(false);\n\n  const handleCommentDelete = () => {\n    console.log(`DELETE /${board}/${boardId}/${commentId}`);\n    axios\n      .delete(\n        `${process.env.REACT_APP_API_URL}/${board}/${boardId}/${commentId}`,\n        {\n          headers: {\n            Authorization: localStorage.getItem('AccessToken'),\n            Refresh: localStorage.getItem('RefreshToken'),\n          },\n          data: { memberId: LOGIN_ID },\n        },\n      )\n      .then((res) => {\n        console.log(res);\n        setData(res.data.data);\n      });\n  };\n\n  return (\n    <CommentContainer>\n      <CreatorBox>\n        <Link to={`/members/mypage/${memberId}`}>\n          <img\n            src={`https://picsum.photos/seed/${memberId}/50/50.webp`}\n            alt={`avator of ${nickname}}`}\n          />\n          <div>\n            <div>\n              <div>{nickname}</div>\n              {creatorId === memberId ? <CreatorMark>글쓴이</CreatorMark> : ''}\n              {applicantsId && applicantsId.includes(memberId) ? (\n                <ApplicantMark>참여자</ApplicantMark>\n              ) : (\n                ''\n              )}\n            </div>\n            <div>\n              <span>\n                <i className=\"fa-solid fa-heart\" />\n                {heart}\n              </span>\n              <span>\n                {createdAt === modifiedAt\n                  ? `${timeDifference(createdAt)} 작성`\n                  : `${timeDifference(modifiedAt)} 수정`}\n              </span>\n            </div>\n          </div>\n        </Link>\n        <div>\n          {memberId === LOGIN_ID ? (\n            <>\n              {modifying === false ? (\n                <Button value=\"수정\" onClick={() => setModifying(true)} />\n              ) : (\n                <Button value=\"닫기\" onClick={() => setModifying(false)} />\n              )}\n              <Button value=\"삭제\" onClick={handleCommentDelete} />\n            </>\n          ) : (\n            ''\n          )}\n        </div>\n      </CreatorBox>\n      {modifying === false ? (\n        <div>{body}</div>\n      ) : (\n        <CommentSubmitBox\n          value={body}\n          submitComment={`/${board}/${boardId}/${commentId}`}\n          setModifying={setModifying}\n          setData={setData}\n        />\n      )}\n    </CommentContainer>\n  );\n};\n\nexport default CommentBox;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,yBAAyB;AACpD,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,gBAAgB,MAAM,oBAAoB;AAAC;AAAA;AAElD,MAAMC,gBAAgB,GAAGN,MAAM,CAACO,EAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,KAdID,gBAAgB;AAgBtB,MAAME,UAAU,GAAGR,MAAM,CAACS,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAnDID,UAAU;AAqDhB,MAAME,WAAW,GAAGV,MAAM,CAACS,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MANIC,WAAW;AAQjB,MAAMC,aAAa,GAAGX,MAAM,CAACU,WAAW,CAAE;AAC1C;AACA,CAAC;AAAC,MAFIC,aAAa;AAenB,MAAMC,UAAU,GAAIC,KAQnB,IAAK;EAAA;EACJ,MAAM;IACJC,SAAS;IACTC,QAAQ,EAAEC,SAAS;IACnBC,KAAK;IACLC,OAAO;IACPC,YAAY;IACZC,IAAI,EAAE;MAAEL,QAAQ;MAAEM,QAAQ;MAAEC,KAAK;MAAEC,IAAI;MAAEC,SAAS;MAAEC;IAAW,CAAC;IAChEC;EACF,CAAC,GAAGb,KAAK;EAET,MAAMc,QAAQ,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;EAEzD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGjC,QAAQ,CAAU,KAAK,CAAC;EAE1D,MAAMkC,mBAAmB,GAAG,MAAM;IAChCC,OAAO,CAACC,GAAG,CAAE,WAAUlB,KAAM,IAAGC,OAAQ,IAAGJ,SAAU,EAAC,CAAC;IACvDZ,KAAK,CACFkC,MAAM,CACJ,GAAEC,OAAO,CAACC,GAAG,CAACC,iBAAkB,IAAGtB,KAAM,IAAGC,OAAQ,IAAGJ,SAAU,EAAC,EACnE;MACE0B,OAAO,EAAE;QACPC,aAAa,EAAEZ,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;QAClDY,OAAO,EAAEb,YAAY,CAACC,OAAO,CAAC,cAAc;MAC9C,CAAC;MACDV,IAAI,EAAE;QAAEL,QAAQ,EAAEY;MAAS;IAC7B,CAAC,CACF,CACAgB,IAAI,CAAEC,GAAG,IAAK;MACbV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;MAChBlB,OAAO,CAACkB,GAAG,CAACxB,IAAI,CAACA,IAAI,CAAC;IACxB,CAAC,CAAC;EACN,CAAC;EAED,oBACE,QAAC,gBAAgB;IAAA,wBACf,QAAC,UAAU;MAAA,wBACT,QAAC,IAAI;QAAC,EAAE,EAAG,mBAAkBL,QAAS,EAAE;QAAA,wBACtC;UACE,GAAG,EAAG,8BAA6BA,QAAS,aAAa;UACzD,GAAG,EAAG,aAAYM,QAAS;QAAG;UAAA;UAAA;UAAA;QAAA,QAC9B,eACF;UAAA,wBACE;YAAA,wBACE;cAAA,UAAMA;YAAQ;cAAA;cAAA;cAAA;YAAA,QAAO,EACpBL,SAAS,KAAKD,QAAQ,gBAAG,QAAC,WAAW;cAAA,UAAC;YAAG;cAAA;cAAA;cAAA;YAAA,QAAc,GAAG,EAAE,EAC5DI,YAAY,IAAIA,YAAY,CAAC0B,QAAQ,CAAC9B,QAAQ,CAAC,gBAC9C,QAAC,aAAa;cAAA,UAAC;YAAG;cAAA;cAAA;cAAA;YAAA,QAAgB,GAElC,EACD;UAAA;YAAA;YAAA;YAAA;UAAA,QACG,eACN;YAAA,wBACE;cAAA,wBACE;gBAAG,SAAS,EAAC;cAAmB;gBAAA;gBAAA;gBAAA;cAAA,QAAG,EAClCO,KAAK;YAAA;cAAA;cAAA;cAAA;YAAA,QACD,eACP;cAAA,UACGE,SAAS,KAAKC,UAAU,GACpB,GAAEtB,cAAc,CAACqB,SAAS,CAAE,KAAI,GAChC,GAAErB,cAAc,CAACsB,UAAU,CAAE;YAAI;cAAA;cAAA;cAAA;YAAA,QACjC;UAAA;YAAA;YAAA;YAAA;UAAA,QACH;QAAA;UAAA;UAAA;UAAA;QAAA,QACF;MAAA;QAAA;QAAA;QAAA;MAAA,QACD,eACP;QAAA,UACGV,QAAQ,KAAKY,QAAQ,gBACpB;UAAA,WACGI,SAAS,KAAK,KAAK,gBAClB,QAAC,MAAM;YAAC,KAAK,EAAC,cAAI;YAAC,OAAO,EAAE,MAAMC,YAAY,CAAC,IAAI;UAAE;YAAA;YAAA;YAAA;UAAA,QAAG,gBAExD,QAAC,MAAM;YAAC,KAAK,EAAC,cAAI;YAAC,OAAO,EAAE,MAAMA,YAAY,CAAC,KAAK;UAAE;YAAA;YAAA;YAAA;UAAA,QACvD,eACD,QAAC,MAAM;YAAC,KAAK,EAAC,cAAI;YAAC,OAAO,EAAEC;UAAoB;YAAA;YAAA;YAAA;UAAA,QAAG;QAAA,gBAClD,GAEH;MACD;QAAA;QAAA;QAAA;MAAA,QACG;IAAA;MAAA;MAAA;MAAA;IAAA,QACK,EACZF,SAAS,KAAK,KAAK,gBAClB;MAAA,UAAMR;IAAI;MAAA;MAAA;MAAA;IAAA,QAAO,gBAEjB,QAAC,gBAAgB;MACf,KAAK,EAAEA,IAAK;MACZ,aAAa,EAAG,IAAGN,KAAM,IAAGC,OAAQ,IAAGJ,SAAU,EAAE;MACnD,YAAY,EAAEkB,YAAa;MAC3B,OAAO,EAAEN;IAAQ;MAAA;MAAA;MAAA;IAAA,QAEpB;EAAA;IAAA;IAAA;IAAA;EAAA,QACgB;AAEvB,CAAC;AAAC,GApGId,UAAU;AAAA,MAAVA,UAAU;AAsGhB,eAAeA,UAAU;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}