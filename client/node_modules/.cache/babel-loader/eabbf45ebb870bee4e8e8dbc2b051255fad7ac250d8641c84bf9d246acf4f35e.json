{"ast":null,"code":"var _jsxFileName = \"/Users/apple/seb41_main_001/client/src/pages/Recruits.tsx\",\n  _s = $RefreshSig$();\nimport styled from 'styled-components';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport FilterBox from '../components/FilterBox';\nimport RecruitList from '../components/RecruitList';\nimport ButtonLink from '../components/ButtonLink';\nimport PaginationLink from '../components/PaginationLink';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainContainer = styled.main`\n  width: 1100px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  ul {\n    list-style: none;\n    padding: 0;\n    margin-top: 40px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n\n    > div {\n      width: 100%;\n      display: flex;\n      justify-content: flex-end;\n      select {\n        margin-bottom: 10px;\n        margin-right: 10px;\n        font-size: 14px;\n        background-color: var(--gray);\n        color: white;\n        padding: 5px;\n      }\n    }\n  }\n\n  aside {\n    width: 420px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    > div:first-child {\n      height: 100%;\n      position: relative;\n    }\n    > div:last-child {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      padding: 40px 0px;\n      span {\n        margin-bottom: 10px;\n      }\n      a {\n        margin: 10px 0px;\n      }\n    }\n  }\n`;\n_c = MainContainer;\nconst Recruits = () => {\n  _s();\n  var _searchParams$get$rep, _searchParams$get, _searchParams$get$rep2, _searchParams$get2;\n  const [data, setData] = useState();\n  const [pageCount, setPageCount] = useState(0);\n  const [page, setPage] = useState(1);\n  const [listNum, setListNum] = useState('5');\n  const searchParams = new URLSearchParams(useLocation().search);\n  const [filterTag, setFilterTag] = useState((_searchParams$get$rep = (_searchParams$get = searchParams.get('tag')) === null || _searchParams$get === void 0 ? void 0 : _searchParams$get.replaceAll('\"', '')) !== null && _searchParams$get$rep !== void 0 ? _searchParams$get$rep : '');\n  const [filterStatus, setFilterStatus] = useState((_searchParams$get$rep2 = (_searchParams$get2 = searchParams.get('status')) === null || _searchParams$get2 === void 0 ? void 0 : _searchParams$get2.replaceAll('\"', '')) !== null && _searchParams$get$rep2 !== void 0 ? _searchParams$get$rep2 : '');\n  // const [filterRegion, setFilterRegion] = useState('');\n\n  useEffect(() => {\n    console.log(filterTag, filterStatus);\n    const params = {\n      page,\n      size: listNum,\n      distanceLimit: 10,\n      lat: 37.757687,\n      lon: 128.873749\n    };\n    axios.get(`${process.env.REACT_APP_API_URL}/recruits?${filterTag ? `tagName=${filterTag}` : ''}&${filterStatus ? `status=${filterStatus}` : ''}`, {\n      params\n    }).then(res => {\n      setData(res.data.data);\n      setPageCount(res.data.pageInfo.totalPages);\n      console.log(res.data.pageInfo);\n    }).catch(err => console.log(err));\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, [page, listNum, filterTag, filterStatus]);\n  const handleChangeListNum = e => {\n    setListNum(e.target.value);\n    setPage(1);\n  };\n  return /*#__PURE__*/_jsxDEV(MainContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uBAA8\\uC9D1\\uAC8C\\uC2DC\\uD310\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\uB3D9\\uB124 \\uC774\\uC6C3\\uACFC \\uD568\\uAED8 \\uC6B4\\uB3D9\\uC744 \\uC990\\uACA8\\uBCF4\\uC138\\uC694!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: handleChangeListNum,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              selected: true,\n              children: \"5\\uAC1C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10\\uAC1C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 15,\n              children: \"15\\uAC1C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), data && data.map(item => /*#__PURE__*/_jsxDEV(RecruitList, {\n          data: item\n        }, item.recruitId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), pageCount && /*#__PURE__*/_jsxDEV(PaginationLink, {\n        pageCount: pageCount,\n        active_page: page,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(FilterBox, {\n          filterTag: filterTag,\n          filterStatus: filterStatus,\n          setFilterTag: setFilterTag,\n          setFilterStatus: setFilterStatus\n          // setFilterRegion={setFilterRegion}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uC6B4\\uB3D9\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC9C1\\uC811 \\uC774\\uC6C3\\uC744 \\uBAA8\\uC544\\uBCF4\\uC138\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonLink, {\n          value: \"\\uBAA8\\uC9D1\\uAE00 \\uC791\\uC131\\uD558\\uAE30\",\n          to: \"/recruit/new\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(Recruits, \"19X/eoR+6I2ncRWlJHcF89kBkqo=\", false, function () {\n  return [useLocation];\n});\n_c2 = Recruits;\nexport default Recruits;\nvar _c, _c2;\n$RefreshReg$(_c, \"MainContainer\");\n$RefreshReg$(_c2, \"Recruits\");","map":{"version":3,"names":["styled","useEffect","useState","useLocation","axios","FilterBox","RecruitList","ButtonLink","PaginationLink","MainContainer","main","Recruits","data","setData","pageCount","setPageCount","page","setPage","listNum","setListNum","searchParams","URLSearchParams","search","filterTag","setFilterTag","get","replaceAll","filterStatus","setFilterStatus","console","log","params","size","distanceLimit","lat","lon","process","env","REACT_APP_API_URL","then","res","pageInfo","totalPages","catch","err","window","scrollTo","top","behavior","handleChangeListNum","e","target","value","map","item","recruitId"],"sources":["/Users/apple/seb41_main_001/client/src/pages/Recruits.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport FilterBox from '../components/FilterBox';\nimport RecruitDataProps from '../interfaces/RecruitDataProps';\nimport RecruitList from '../components/RecruitList';\nimport ButtonLink from '../components/ButtonLink';\nimport PaginationLink from '../components/PaginationLink';\n\nconst MainContainer = styled.main`\n  width: 1100px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n  ul {\n    list-style: none;\n    padding: 0;\n    margin-top: 40px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n\n    > div {\n      width: 100%;\n      display: flex;\n      justify-content: flex-end;\n      select {\n        margin-bottom: 10px;\n        margin-right: 10px;\n        font-size: 14px;\n        background-color: var(--gray);\n        color: white;\n        padding: 5px;\n      }\n    }\n  }\n\n  aside {\n    width: 420px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    > div:first-child {\n      height: 100%;\n      position: relative;\n    }\n    > div:last-child {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      padding: 40px 0px;\n      span {\n        margin-bottom: 10px;\n      }\n      a {\n        margin: 10px 0px;\n      }\n    }\n  }\n`;\n\nconst Recruits = () => {\n  const [data, setData] = useState<RecruitDataProps[]>();\n  const [pageCount, setPageCount] = useState<number>(0);\n  const [page, setPage] = useState(1);\n  const [listNum, setListNum] = useState('5');\n  const searchParams = new URLSearchParams(useLocation().search);\n  const [filterTag, setFilterTag] = useState<string>(\n    searchParams.get('tag')?.replaceAll('\"', '') ?? '',\n  );\n  const [filterStatus, setFilterStatus] = useState<string>(\n    searchParams.get('status')?.replaceAll('\"', '') ?? '',\n  );\n  // const [filterRegion, setFilterRegion] = useState('');\n\n  useEffect(() => {\n    console.log(filterTag, filterStatus);\n    const params = {\n      page,\n      size: listNum,\n      distanceLimit: 10,\n      lat: 37.757687,\n      lon: 128.873749,\n    };\n    axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/recruits?${\n          filterTag ? `tagName=${filterTag}` : ''\n        }&${filterStatus ? `status=${filterStatus}` : ''}`,\n        { params },\n      )\n      .then((res) => {\n        setData(res.data.data);\n        setPageCount(res.data.pageInfo.totalPages);\n        console.log(res.data.pageInfo);\n      })\n      .catch((err) => console.log(err));\n\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [page, listNum, filterTag, filterStatus]);\n\n  const handleChangeListNum = (e: any) => {\n    setListNum(e.target.value);\n    setPage(1);\n  };\n\n  return (\n    <MainContainer>\n      <div>\n        <h1>모집게시판</h1>\n        <span>동네 이웃과 함께 운동을 즐겨보세요!</span>\n        <ul>\n          <div>\n            <select onChange={handleChangeListNum}>\n              <option value={5} selected>\n                5개\n              </option>\n              <option value={10}>10개</option>\n              <option value={15}>15개</option>\n            </select>\n          </div>\n          {data &&\n            data.map((item) => (\n              <RecruitList key={item.recruitId} data={item} />\n            ))}\n        </ul>\n        {pageCount && (\n          <PaginationLink\n            pageCount={pageCount}\n            active_page={page}\n            setPage={setPage}\n          />\n        )}\n      </div>\n      <aside>\n        <div>\n          <FilterBox\n            filterTag={filterTag}\n            filterStatus={filterStatus}\n            setFilterTag={setFilterTag}\n            setFilterStatus={setFilterStatus}\n            // setFilterRegion={setFilterRegion}\n          />\n        </div>\n        <div>\n          <span>찾으시는 운동이 없으신가요?</span>\n          <span>직접 이웃을 모아보세요!</span>\n          <ButtonLink value=\"모집글 작성하기\" to=\"/recruit/new\" />\n        </div>\n      </aside>\n    </MainContainer>\n  );\n};\n\nexport default Recruits;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}